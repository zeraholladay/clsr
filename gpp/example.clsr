#define true TRUE
#define false FALSE
#define set(k, v) PUSH (k v) SET
#define lookup(k) PUSH (k) LOOKUP
#define defun(fname, args, __VARGS__) CLOSURE args (__VARGS__ RETURN \
) PUSH(fname) SET
#define call(fname, __VARGS__) PUSH __VARGS__ PUSH(fname) LOOKUP APPLY
#define if(bool, then, else) PUSH (bool) IF ( then \
)(else)
true

set(x,10)

lookup(x)

defun(foo,(a b c), 
 lookup(a)
 lookup(b)
 lookup(c)
)

call(foo,
 (cats dogs rats)
)

if(true,
 lookup(x),
 set(x, 1)
)

